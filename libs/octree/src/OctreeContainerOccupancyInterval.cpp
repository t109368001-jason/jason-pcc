#include <jpcc/octree/OctreeContainerOccupancyInterval.h>

using namespace std;

namespace jpcc::octree {

//////////////////////////////////////////////////////////////////////////////////////////////
OctreeContainerOccupancyInterval::OctreeContainerOccupancyInterval() : count_(0), occupancyIntervals_() {}

//////////////////////////////////////////////////////////////////////////////////////////////
void OctreeContainerOccupancyInterval::reset() { occupancyIntervals_.clear(); }

//////////////////////////////////////////////////////////////////////////////////////////////
void OctreeContainerOccupancyInterval::addPointIndex(const index_t& index) { appendCount(); }

//////////////////////////////////////////////////////////////////////////////////////////////
void OctreeContainerOccupancyInterval::appendCount() {
  if (count_ != 0) { occupancyIntervals_.push_back(count_); }

  count_ = 0;
}

//////////////////////////////////////////////////////////////////////////////////////////////
const std::vector<int>& OctreeContainerOccupancyInterval::getOccupancyIntervals() const { return occupancyIntervals_; }

//////////////////////////////////////////////////////////////////////////////////////////////
OctreeContainerOccupancyInterval& OctreeContainerOccupancyInterval::operator++() {
  count_++;
  return *this;
}

}  // namespace jpcc::octree